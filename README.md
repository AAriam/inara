# inara

Tools to create JOSS/JOSE publishing artifacts.

The package is designed to be usable either via its Makefile, or
through a Docker image.

## Usage via make

The `make` command should be run from the project's root directory.
It expects the article source to be passed via the `ARTICLE`
variable. So if the paper Markdown source is in file
`/my/path/paper.md`, then make should be called with

    make ARTICLE=/my/path/paper.md

All supported publishing formats are generated by default, but you
can select a specific format to be generated by passing it as an
argument. E.g., to generate only a PDF file, the command would be

    make pdf ARTICLE=/my/path/paper.md

Supported output formats are `html`, `pdf`, and `jats`.

The generated output will be written to folder
`publishing-artifacts`.

## Usage via Docker

The Docker image will currently create PDF output only. The
directory of the paper, or one of its parent directories, must be
mounted on path `/data`. The path to the paper, relative to the
mounted folder, is expected as the only argument.

Example:

    docker run --rm -it \
        -v $PWD:/data \
        -u $(id -u):$(id -g) \
        openjournals/inara \
        path/relative/to/current/directory/paper.md

The resulting PDF will be named `paper.pdf` and placed next to the
input file.
